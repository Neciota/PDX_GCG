add_namespace = NFEvents

country_event = {
	id = NFEvents.1
	title = "[CAL.GetName] Demands [TEX.GetName]!"
	desc = "Today [CAL.GetName] sent an envoy to us with a proposition of an union. We are alone and in this world, and a union with [CAL.GetName might prove to be fruitful. Our people would be safe with the mighty army of [CAL.GetName] and we could possibly flourish with their established economy. Or we could refuse the union which would surely lead to war, but maybe we can hold them off!"
	picture = GFX_report_event_hitler_parade

	is_triggered_only = yes

	option = {
		name = "We accept the Union"
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				TEX = { is_subject = yes }
			}
			modifier = {
				factor = 0
				NOT = { tag = TEX }
				CAL = { on_same_continent = no }
			}
			modifier = {
				add = -15
				CAL = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 45
				CAL = { has_army_size = { size > 39 } }
			}
		}
		FROM = {
			country_event = { hours = 2 id = NFEvents.2 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = {
		name = "We Refuse!"
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				CAL = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				CAL = { has_army_size = { size < 30 } }
			}
		}
		FROM = {
			country_event = { hours = 2 id = NFEvents.3 }
			if = {
				limit = { is_in_faction_with = TEX }
				remove_from_faction = TEX
			}
		}
	}
}

country_event = {
	id = NFEvents.3
	title = "[FROM.GetName] Refuses!"
	desc = "[FROM.GetName] Refused our proposed union! This is an insult to us that cannot go unanswered!"
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = "It's time for war"
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = {
	id = NFEvents.2
	title = "[FROM.GetName] accepts!"
	desc = "[FROM.GetName] accepted our proposed union, their added strength will push us to greatness!"
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = "A stronger Union!"
		every_country = {
			limit = { is_subject_of = TEX }
			country_event = NFEvents.1
		}
		FROM = {
			every_owned_state = {
				add_core_of = CAL
			}
		}
		if = {
			limit = { FROM = { tag = TEX } }
			annex_country = { target = TEX transfer_troops = yes }
			add_political_power = 50
			add_named_threat = { threat = 2 name = "Californian Republic annexed Texas" }
			set_country_flag = TEX_annexed
		}
		else = {
			puppet = FROM
		}

	}
}

country_event = {
	id = NFEvents.4
	title = "[CAL.GetName] Demands [X29.GetName]!"
	desc = "Today [CAL.GetName] sent an envoy to us with a proposition of an union. We are alone and in this world, and a union with [CAL.GetName might prove to be fruitful. Our people would be safe with the mighty army of [CAL.GetName] and we could possibly flourish with their established economy. Or we could refuse the union which would surely lead to war, but maybe we can hold them off!"
	picture = GFX_report_event_hitler_parade

	is_triggered_only = yes

	option = {
		name = "We accept the Union"
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				X29 = { is_subject = yes }
			}
			modifier = {
				factor = 0
				NOT = { tag = X29 }
				CAL = { on_same_continent = no }
			}
			modifier = {
				add = -15
				CAL = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 45
				CAL = { has_army_size = { size > 39 } }
			}
		}
		FROM = {
			country_event = { hours = 2 id = NFEvents.5 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = {
		name = "We Refuse!"
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				CAL = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				CAL = { has_army_size = { size < 30 } }
			}
		}
		FROM = {
			country_event = { hours = 2 id = NFEvents.6 }
			if = {
				limit = { is_in_faction_with = X29 }
				remove_from_faction = X29
			}
		}
	}
}

country_event = {
	id = NFEvents.6
	title = "[FROM.GetName] Refuses!"
	desc = "[FROM.GetName] Refused our proposed union! This is an insult to us that cannot go unanswered!"
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = "It's time for war"
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = {
	id = NFEvents.5
	title = "[FROM.GetName] accepts!"
	desc = "[FROM.GetName] accepted our proposed union, their added strength will push us to greatness!"
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = "A stronger Union!"
		every_country = {
			limit = { is_subject_of = X29 }
			country_event = NFEvents.4
		}
		FROM = {
			every_owned_state = {
				add_core_of = CAL
			}
		}
		if = {
			limit = { FROM = { tag = X29 } }
			annex_country = { target = X29 transfer_troops = yes }
			add_political_power = 50
			add_named_threat = { threat = 2 name = "Californian Republic annexed Deseret" }
			set_country_flag = X29_annexed
		}
		else = {
			puppet = FROM
		}

	}
}

country_event = {
	id = NFEvents.7
	title = "[CAL.GetName] Demands [X47.GetName]!"
	desc = "Today [CAL.GetName] sent an envoy to us with a proposition of an union. We are alone and in this world, and a union with [CAL.GetName might prove to be fruitful. Our people would be safe with the mighty army of [CAL.GetName] and we could possibly flourish with their established economy. Or we could refuse the union which would surely lead to war, but maybe we can hold them off!"
	picture = GFX_report_event_hitler_parade

	is_triggered_only = yes

	option = {
		name = "We accept the Union"
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				X47 = { is_subject = yes }
			}
			modifier = {
				factor = 0
				NOT = { tag = X47 }
				CAL = { on_same_continent = no }
			}
			modifier = {
				add = -15
				CAL = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 45
				CAL = { has_army_size = { size > 39 } }
			}
		}
		FROM = {
			country_event = { hours = 2 id = NFEvents.8 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = {
		name = "We Refuse!"
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				CAL = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				CAL = { has_army_size = { size < 30 } }
			}
		}
		FROM = {
			country_event = { hours = 2 id = NFEvents.9 }
			if = {
				limit = { is_in_faction_with = X47 }
				remove_from_faction = X47
			}
		}
	}
}

country_event = {
	id = NFEvents.9
	title = "[FROM.GetName] Refuses!"
	desc = "[FROM.GetName] Refused our proposed union! This is an insult to us that cannot go unanswered!"
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = "It's time for war"
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = {
	id = NFEvents.8
	title = "[FROM.GetName] accepts!"
	desc = "[FROM.GetName] accepted our proposed union, their added strength will push us to greatness!"
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = "A stronger Union!"
		every_country = {
			limit = { is_subject_of = X47 }
			country_event = NFEvents.7
		}
		FROM = {
			every_owned_state = {
				add_core_of = CAL
			}
		}
		if = {
			limit = { FROM = { tag = X47 } }
			annex_country = { target = X47 transfer_troops = yes }
			add_political_power = 50
			add_named_threat = { threat = 2 name = "Californian Republic annexed Alaska" }
			set_country_flag = X47_annexed
		}
		else = {
			puppet = FROM
		}

	}
}

country_event = {
	id = NFEvents.10
	title = "[CAL.GetName] Demands [X58.GetName]!"
	desc = "[CAL.GetName] has recently been making claims to our bordering states, saying that these states are full of [CAL.GetAdjective] people and that the territory should be given to them. Although it is true that recently our neighboring states have had an influx of [CAL.GetAdjective] people in the recent years, we cannot give up our lands because a few [CAL.GetAdjective] settled down in our land. In response [CAL.GetName] has called for a conference, demanding their territory in exchange for peace. How do we respond? Our people would be safe with the mighty army of [CAL.GetName] and we could possibly flourish with their established economy. Or we could refuse the union which would surely lead to war, but maybe we can hold them off!"
	picture = GFX_report_event_hitler_parade

	is_triggered_only = yes

	option = {
		name = "We Accept"
		ai_chance = {
			base = 30
			modifier = {
				add = -15
				CAL = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 45
				CAL = { has_army_size = { size > 39 } }
			}
		}
		CAL = {
			country_event = { hours = 2 id = NFEvents.11 }
		}
	}

	option = {
		name = "We Refuse!"
		ai_chance  = {
			base = 10
			modifier = {
				factor = 0
				CAL = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				CAL = { has_army_size = { size < 30 } }
			}
		}
		CAL = {
			country_event = { hours = 2 id = NFEvents.12 }
			if = {
				limit = { is_in_faction_with = X58 }
				remove_from_faction = X58
			}
		}
	}
}

country_event = {
	id = NFEvents.12
	title = "[X58.GetName] Refuses!"
	desc = "[X58.GetName] Refused our proposed proposition! This is an insult to us that cannot go unanswered!"
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = {
		name = "It's time for war"
		create_wargoal = {
			type = annex_everything
			target = X58
		}
	}
}

country_event = {
	id = NFEvents.11
	title = "[X58.GetName] accepts!"
	desc = "[X58.GetName] accepted our proposed demands, the added lands will push us to greatness!"
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = "A stronger Union!"
		507 = { add_core_of = CAL }
		CAL = { transfer_state = 507 }
		503 = { add_core_of = CAL }
		CAL = { transfer_state = 503 }
		set_country_flag = X58_demanded
	}
}

country_event = {
	id = NFEvents.13
	title = "Trade Incident"
	desc = "One of our convoys was sunk by [CHI.GetName]"
	picture = GFX_report_event_chinese_soldiers_fighting

	is_triggered_only = yes

	trigger = {
		has_country_flag = established_traders
		NOT = { has_country_flag = established_traders_activated }
	}

	option = {
		name = "They will Pay!"
		ai_chance = { factor = 85 }
		effect_tooltip = {
			JAP = {
				set_country_flag = established_traders_activated
				create_wargoal = {
					type = annex_everything
					target = CHI
				}
			}
		}
	}
}
